<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="ticketMapper">

<resultMap type="Ticket" id="ticketResultSet">
<!--  TICKET_NO
USER_NO
TICKET_CODE
TICKET_PHONE
TICKET_NAME
TICKET_NOTICE
TICKET_LOCATION
TICKET_DATE
TICKET_STATUS
T_ORIGIN_NAME
T_CHANGE_NAME-->

    <id property="ticketNo" column="TICKET_NO"/>
         <result property="writer" column="USER_NO"/>
         <result property="price" column="TICKET_CODE"/>
         <result property="ticketPhone" column="TICKET_PHONE"/>
         <result property="ticketTitle" column="TICKET_NAME"/>
         <result property="ticketNotice" column="TICKET_NOTICE"/>
         <result property="ticketLocation" column="TICKET_LOCATION"/>
         <result property="Date" column="TICKET_DATE"/>
         <result property="status" column="TICKET_STATUS"/>
         <result property="originName" column="T_ORIGIN_NAME"/>
         <result property="changeName" column="T_CHANGE_NAME"/>

</resultMap>

<select id="selectListCount"  resultType="_int">
  
  SELECT COUNT(*)
  FROM TICKET
  WHERE TICKET_STATUS='Y'
  
  </select>

  <select id="selectList" resultMap="ticketResultSet">
  
   SELECT *
   FROM TICKET
   WHERE TICKET_STATUS = 'Y'
   ORDER BY TICKET_NO DESC
  
  </select>
</mapper>